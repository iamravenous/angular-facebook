"use strict";angular.module("Facebook",[]).provider("Facebook",function(){var t={},e="";this.config=function(o,n){t=o,e=n},this.$get=["$http","$rootScope","$q",function(o,n,i){if(angular.equals({},t))return!1;if(!FB)return!1;var r,s=i.defer(),u=i.defer();return FB.init(t),FB.Event.subscribe("auth.authResponseChange",function(t){r.lastResponse=t,"connected"===t.status?(u=i.defer(),r.onLogin(t,s)):(s=i.defer(),r.onLogout(t,u)),n.$apply()}),r={login:function(){var t=i.defer();return r.lastResponse&&"connected"===r.lastResponse.status?(s.promise.then(function(){t.resolve()}),t.promise):(FB.login(function(e){s.promise.then(function(){t.resolve(r.lastResponse)},function(e){t.reject(e)})},{scope:e}),t.promise)},logout:function(){var t=i.defer();return FB.logout(function(e){u.promise.then(function(){t.resolve("Logged out")},function(){t.reject("Could not log out")})}),t.promise},onLogin:function(t,e){e.resolve(t)},onLogout:function(t,e){e.resolve(t)}},r.ui=FB.ui,r.api=FB.api,r.getLoginStatus=FB.getLoginStatus,r}]}).filter("fbProfilePicture",[function(){return function(t,e){var o="https://graph.facebook.com/"+t+"/picture/";if(e){var n=e.split("x");o+="?",o+="width="+n[0],o+="&",o+="height="+n[1]}return o}}]).directive("fbComments",["$timeout",function(t){return{restrict:"A",scope:{href:"@fbComments",numposts:"@?"},template:'<div class="fb-comments" data-width="100%" data-href="{{::href}}" data-numposts="{{::numposts || 5}}" data-colorscheme="light"></div>',link:function(e,o,n){t(function(){FB.XFBML.parse(o[0])})}}}]);